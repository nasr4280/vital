<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Ã‰quilibre Vital â€“ Commande</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{font-family:Arial;background:#f4f4f4;padding:15px}
h1{text-align:center}

.card{background:#fff;padding:15px;border-radius:8px;margin-bottom:15px}

/* SÃ©lecteur produit */
.selector{
  width:100%;
  padding:14px;
  border:1px solid #ccc;
  border-radius:6px;
  font-size:16px;
  cursor:pointer;
  background:#fafafa;
}

.list{display:none;border:1px solid #ccc;border-radius:6px;margin-top:5px;max-height:300px;overflow:auto}

.item{
  display:flex;
  align-items:center;
  padding:8px;
  border-bottom:1px solid #eee;
  cursor:pointer;
}
.item img{width:45px;height:45px;object-fit:cover;margin-right:10px}
.item:hover{background:#f0f0f0}

/* AperÃ§u */
#preview img{max-width:160px;margin-top:10px}

/* Panier */
.cart-row{margin-top:10px}
.cart-images{display:flex;gap:8px;margin-bottom:5px}
.cart-images img{width:45px;height:45px;object-fit:cover;border-radius:4px}
.remove{font-size:13px;color:#555;cursor:pointer}

/* Form */
select,input,button{width:100%;padding:10px;margin-top:8px}
button{background:#25D366;color:#fff;border:none;border-radius:6px;font-size:16px}

.small{font-size:13px;color:#555}
</style>
</head>

<body>

<h1>ðŸŸ¢ Ã‰quilibre Vital</h1>

<div class="card">
<h3>Choisir un produit</h3>

<div class="selector" onclick="toggleList()">ðŸ‘‡ SÃ©lectionner un produit</div>
<div class="list" id="list"></div>

<select id="qty">
<option>1</option><option>2</option><option>3</option><option>4</option><option>5</option>
</select>

<div id="preview"></div>

<button onclick="addToCart()">Ajouter au panier</button>
</div>

<div class="card">
<h3>Panier</h3>
<div id="cart"></div>
<p><strong>Total : <span id="total">0</span> DH</strong></p>
</div>

<div class="card">
<h3>Informations de livraison</h3>
<input id="name" placeholder="Nom et prÃ©nom">
<input id="address" placeholder="Adresse de livraison">

<p class="small">
âœ” Paiement Ã  la livraison<br>
âœ” Livraison gratuite dÃ¨s 600 DH<br>
âœ” Copie de la carte dâ€™identitÃ© demandÃ©e aprÃ¨s confirmation
</p>

<button onclick="sendWhatsApp()">Commander via WhatsApp</button>
</div>

<script>
const products=[
{n:"Aloe Vera Gel",p:425,d:"Soutient le systÃ¨me immunitaire et combat la fatigue.",i:"https://i.postimg.cc/fWGXbLs2/Screenshot-20260209-134848-Google.jpg"},
{n:"Forever Fiber",p:327,d:"Fibres pour le confort digestif.",i:"https://i.postimg.cc/MGp5JnZB/Screenshot-20260208-173222-Google.jpg"},
{n:"Bright Toothgel",p:125,d:"Dentifrice Ã  lâ€™aloe vera sans fluor.",i:"https://i.postimg.cc/sgCKw56d/Screenshot-20260208-220555-Chrome.jpg"},
{n:"Sunscreen",p:273,d:"Protection solaire hydratante.",i:"https://i.postimg.cc/RCkVp0w8/Screenshot-20260208-223719-Chrome.jpg"},
{n:"Propolis CrÃ¨me",p:322,d:"Apaise et protÃ¨ge la peau.",i:"https://i.postimg.cc/fWx6ZWGJ/Screenshot-20260208-224128-Chrome.jpg"},
{n:"Forever Calcium",p:394,d:"Renforce os et dents.",i:"https://i.postimg.cc/mkYHXcX3/Screenshot-20260209-192617-Google.jpg"},
{n:"Arctic Sea 120",p:516,d:"OmÃ©ga 3 et 9.",i:"https://i.postimg.cc/vmtCsX1f/Screenshot-20260209-193110-Google.jpg"},
{n:"Forever Move",p:821,d:"Souplesse articulaire.",i:"https://i.postimg.cc/xjzhj0Ns/Screenshot-20260209-193412-Google.jpg"},
{n:"Bee Pollen",p:248,d:"Ã‰nergie naturelle.",i:"https://i.postimg.cc/wBRc5Bzx/Screenshot-20260209-193614-Google.jpg"},
{n:"Kids",p:227,d:"Vitamines enfants.",i:"https://i.postimg.cc/Ss52XP1s/Screenshot-20260210-145857-Google.jpg"}
];

products.sort((a,b)=>a.n.localeCompare(b.n));

let selected=null;
let cart=[];

const list=document.getElementById("list");
const preview=document.getElementById("preview");
const cartDiv=document.getElementById("cart");
const totalSpan=document.getElementById("total");

products.forEach((p,i)=>{
list.innerHTML+=`
<div class="item" onclick="selectProduct(${i})">
<img src="${p.i}">
${p.n} â€“ ${p.p} DH
</div>`;
});

function toggleList(){
list.style.display=list.style.display==="block"?"none":"block";
}

function selectProduct(i){
selected=products[i];
list.style.display="none";
preview.innerHTML=`
<img src="${selected.i}">
<p><strong>${selected.n}</strong></p>
<p>${selected.d}</p>
<p><strong>${selected.p} DH</strong></p>`;
}

function addToCart(){
if(!selected)return alert("Choisissez un produit");
const q=parseInt(document.getElementById("qty").value);
cart.push({...selected,q});
renderCart();
}

function renderCart(){
cartDiv.innerHTML="";
let total=0;

cart.forEach((c,i)=>{
total+=c.p*c.q;
cartDiv.innerHTML+=`
<div class="cart-row">
<div class="cart-images">
<img src="${c.i}">
</div>
${c.n} x ${c.q}
<span class="remove" onclick="cart.splice(${i},1);renderCart()">Supprimer</span>
</div>`;
});

totalSpan.textContent=total;
}

function sendWhatsApp(){
const name=document.getElementById("name").value.trim();
const address=document.getElementById("address").value.trim();
if(!name||!address)return alert("Veuillez complÃ©ter vos informations");
if(cart.length===0)return alert("Panier vide");

let msg="Commande Ã‰quilibre Vital%0A%0A";
let t=0;
cart.forEach(c=>{t+=c.p*c.q;msg+=`- ${c.n} x ${c.q}%0A`;});
msg+=`%0ATotal : ${t} DH`;
msg+=`%0ANom : ${name}`;
msg+=`%0AAdresse : ${address}`;
msg+=`%0APaiement Ã  la livraison`;

window.open("https://wa.me/212752789277?text="+msg,"_blank");
}
</script>

</body>
</html>
